<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>OAI-PMH Repository - Omeka Classic User Manual</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "OAI-PMH Repository";
    var mkdocs_page_input_path = "Plugins/OaiPmhRepository.md";
    var mkdocs_page_url = "/Plugins/OaiPmhRepository/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Omeka Classic User Manual</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting Started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Site_Planning_Tips/">Site Planning Tips</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/UsingOmeka/">Examples and Case Studies</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Project_Planning/">Project Planning</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Hosting_Suggestions/">Hosting Suggestions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Feature_List/">Feature List</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Accessibility_Statement/">Accessibility Statement</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Screencasts/">Screencasts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Searching/">Searching</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/System_Requirements/">System Requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Installation/">Installing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Upgrading/">Upgrading</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Configuring_Language/">Configuring Language</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Content</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Items/">Items</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Files/">Files</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Working_with_Dublin_Core/">Working with Dublin Core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Using_HTML_Editor-TinyMCE/">Using the HTML editor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Managing_Item_Types/">Item Types</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Collections/">Collections</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Tags/">Tags</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Shortcodes/">Shortcodes</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Administration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Adding_and_Managing_Plugins/">Working with Plugins</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Plugin_Shortcodes/">Plugin Shortcodes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/themes/">Themes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/Navigation/">Navigation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/Appearance_Settings/">Appearance Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Users/Users/">Users</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/General_Settings/">General Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Security_Settings/">Security Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Search_Settings/">Search Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Element_Sets/">Element Sets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Item_Type_Elements/">Item Type Elements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/API_Settings/">API Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/ReCaptcha/">ReCaptcha</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Plugins</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Coins/">Coins</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../CollectionTree/">Collection Tree</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Commenting/">Commenting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Contribution/">Contribution</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../CSS_Editor/">CSS Editor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../CSV_Import/">CSV Import</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../DerivativeImages/">Derivative Images</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../DocsViewer/">DocsViewer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Dropbox/">Dropbox</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../DublinCoreExtended/">Dublin Core Extended</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Editorial/">Editorial</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../EmbedCodes/">Embed Codes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ExhibitBuilder/">Exhibit Builder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ExhibitImageAnnotation/">Exhibit Image Annotation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Geolocation/">Geolocation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../GuestUser/">Guest User</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ItemOrder/">Item Order</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ItemRelations/">Item Relations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Library_of_Congress_Suggest/">Library of Congress Suggest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Ngram/">Ngram</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../OaipmhHarvester/">OAI-PMH Harvester</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">OAI-PMH Repository</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#metadata-formats">Metadata Formats</a></li>
                
            
                <li class="toctree-l3"><a href="#configuration">Configuration</a></li>
                
                    <li><a class="toctree-l4" href="#advanced-configuration">Advanced Configuration</a></li>
                
            
                <li class="toctree-l3"><a href="#extending">Extending</a></li>
                
            
                <li class="toctree-l3"><a href="#use">Use</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Omeka_API_Import/">Omeka API Import</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../PdfText/">PDF Text</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Posters/">Posters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../RecordRelations/">Record Relations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../RedactElements/">Redact Elements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Reports/">Reports</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Scripto/">Scripto</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SearchByMetadata/">Search by Metadata</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ShortcodeCarousel/">Shortcode Carousel</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SimpleContactForm/">Simple Contact Form</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SimplePages/">Simple Pages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SimpleVocab/">Simple Vocab</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SocialBookmarking/">Social Bookmarking</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Text_Analysis2/">Text Analysis</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../TextAnnotation/">Text Annotation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../UserProfiles/">User Profiles</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../VRACore/">VRA Core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ZoomIt/">Zoom It</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ZoteroImport/">Zotero Import</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Troubleshooting</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Troubleshooting/Troubleshooting_Omeka/">Troubleshooting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Troubleshooting/Retrieving_Error_Messages/">Retrieving Error Messages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Technical</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Adding_LightBox_to_Omeka/">Adding Lightbox to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Backing_up_an_Omeka_Database/">Backing up an Omeka database</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/ConfiguringThumbnailCreation/">Configuring Thumbnail Creation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Moving_to_Another_Server/">Moving to Another Server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Setting_Directory_Permissions/">Setting Directory Permissions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Output_Formats/">Output Formats</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Contribute_Code_to_Omeka/">Contribute Code to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Translate_Omeka/">Translate Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Contributed_API_clients/">Contributed API Clients</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Harvestable_Omeka_OAI_sets/">Harvestable Omeka OAI-PMH sets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Legacy_Add-Ons/">Legacy Add-ons</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Adding_LightBox_to_Omeka/">Adding Lightbox to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Technical/Using_Omeka_with_Other_Tools_and_Platforms/">Using Omeka with other tools and platforms</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Omeka Classic User Manual</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Plugins &raquo;</li>
        
      
    
    <li>OAI-PMH Repository</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p><em>Current version: 2.1.1</em></p>
<p>The OAI-PMH Repository plugin exposes metadata for Omeka items using the <a href="http://www.openarchives.org/pmh">Open Archives Initiative Protocol for Metadata Harvesting</a>. This is the reverse of the functionality provided by the <a href="/OaipmhHarvester.md">OAI-PMH Harvester plugin</a>.</p>
<h2 id="metadata-formats">Metadata Formats</h2>
<p>The repository plugin ships with support for four standard metadata formats:
- <a href="http://dublincore.org">Dublin Core</a> (oai_dc) 
    - This is required by the OAI-PMH specification for all repositories. Omeka metadata fields are mapped one-to-one with fields for this output format, and it is the preferred format to use with the plugin.
- <a href="http://www.getty.edu/research/conducting_research/standards/cdwa/cdwalite.html">CDWA Lite</a> (cdwalite)
    - The mapping between Omeka's metadata and CDWA Lite metadata is more complicated, and certain fields may not be populated correctly. The chief advantage of using CDWA Lite output is that file URLs can be output in a controlled format, unlike Dublin Core. Harvesters may therefore be able to harvest or link to files in addition to metadata.
- <a href="http://www.loc.gov/standards/mods/">MODS</a> (mods)
    - This output crosswalks the Dublin Core metadata to MODS using the <a href="http://www.loc.gov/standards/mods/dcsimple-mods.html">mapping</a> recommended by the Library of Congress.
- <a href="http://www.loc.gov/standards/mets/">METS</a>
    - The Metadata Encoding and Transmission Standard exposes files to harvesters.</p>
<p>The plugin uses an extensible architecture, and additional or custom metadata formats may be added. See Extending (below) for more details.</p>
<h2 id="configuration">Configuration</h2>
<p>The plugin has several user-configurable values. You will be prompted to set these at installation time, or you can change them at any time from the Configure link on the plugin management page.</p>
<ul>
<li><em>Repository name</em><ul>
<li>Name for this OAI-PMH repository. This value is sent as part of the response to an Identify request, and it is how the repository will be identified by well-behaved harvesters.</li>
<li>Default: The name of the Omeka installation.</li>
</ul>
</li>
<li>Namespace identifier<ul>
<li>The <a href="http://www.openarchives.org/OAI/2.0/guidelines-oai-identifier.htm">oai-identifier specification</a> requires repositories to specify a namespace identifier. This will be used to form globally unique IDs for the exposed metadata items. This value is required to be a domain name you have registered. Using other values will generate invalid identifiers.</li>
<li>Default: "default.must.change" This is intended to be a not-so-subtle hint that the default value is inappropriate. The plugin will function with this, or any other string, as the namespace identifier, but this breaks the assumption that each identifier is globally unique. Best practice is to set this value to the domain name the Omeka server is published at, possibly with a prefix like "oai‚Äù.</li>
</ul>
</li>
<li>Expose files<ul>
<li>Whether the repository should expose direct URLs to all the files associated with an item as part of its returned metadata. This gives harvesters the ability to directly access the files described by the metadata.</li>
<li>Default: true</li>
</ul>
</li>
</ul>
<p><img alt="Congiure page" src="../../doc_files/plugin_images/oaipmhrepo.png" /></p>
<h3 id="advanced-configuration">Advanced Configuration</h3>
<p>The plugin also allows you to configure some more options about how the repository responds to harvesters. Since the default values are recommended for most users, these values must be edited by hand, in the <code>config.ini</code> file in the plugin's root directory.</p>
<ul>
<li>
<p>List response limit</p>
<ul>
<li>Number of individual items that can be returned in a response at once. Larger values will increase memory usage but reduce the number of database queries and HTTP requests. Smaller values will reduce memory usage but increase the number of DB queries and requests.</li>
<li>Default: 50</li>
</ul>
</li>
<li>
<p>List expiration time</p>
<ul>
<li>Amount of time in minutes a resumptionToken is valid for. The specification suggests a number in the tens of minutes. This boils down to the length of time a harvester has to request the next part of an incomplete list request.</li>
<li>Default: 10 (minutes)</li>
</ul>
</li>
</ul>
<h2 id="extending">Extending</h2>
<p>This plugin is designed to allow output to arbitrary metadata formats. To add a new format, add a new file to the <code>metadata</code> directory, and in the file declare a class extending <code>OaiPmhRepository_Metadata_Abstract</code>.
The only function you must declare is appendRecord, which appends the appropriate XML to the response. You can use the metadata formats shipped with the plugin as examples.</p>
<p>Important notes:</p>
<ul>
<li>The class name should be in the <code>OaiPmhRepository_Metadata</code> hierarchy</li>
<li>The class name must match the file name (i.e., if you create a class <code>OaiPmhRepository_Metadata_Foo</code>, the filename must be <code>Foo.php</code>.</li>
</ul>
<h2 id="use">Use</h2>
<p>The base URL of the repository can be found by appending
<code>/oai-pmh-repository/request</code> to the base URL of your Omeka site.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Omeka_API_Import/" class="btn btn-neutral float-right" title="Omeka API Import">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../OaipmhHarvester/" class="btn btn-neutral" title="OAI-PMH Harvester"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../OaipmhHarvester/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Omeka_API_Import/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
